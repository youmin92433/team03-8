<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <label><input type="checkbox" id="check-all"> 전체 선택</label>
    <hr>
    <label><input type="checkbox" class="item" value="사과"> 사과</label>
    <label><input type="checkbox" class="item" value="바나나"> 바나나</label>
    <label><input type="checkbox" class="item" value="오렌지"> 오렌지</label>
    <label><input type="checkbox" class="item" value="포도"> 포도</label>
    <p id="selected">선택된 항목: </p>
</body>
<script>
    // ===== 1. 요소 선택 =====
    
    // id가 "check-all"인 체크박스 하나를 선택
    const checkAll = document.getElementById("check-all");
    
    // class가 "item"인 체크박스 4개를 모두 선택 (NodeList로 반환됨)
    const items = document.querySelectorAll("input.item");
    
    // 결과를 표시할 p태그 선택
    const p = document.getElementById("selected");

    // ===== 2. 선택된 항목 표시 함수 =====
    
    function updateSelected() {
        // Array.from(items): NodeList를 진짜 배열로 변환
        // → NodeList는 forEach만 가능, 배열은 filter/map/every 다 가능
        
        // .filter((item) => item.checked)
        // → 배열에서 조건에 맞는 것만 걸러냄
        // → item.checked가 true인 것만 남김
        // 예: [사과✓, 바나나✗, 오렌지✓, 포도✗] → [사과✓, 오렌지✓]
        
        // .map((item) => item.value)
        // → 배열의 각 요소를 변환해서 새 배열 생성
        // → 체크박스 객체에서 value만 뽑아냄
        // 예: [사과체크박스, 오렌지체크박스] → ["사과", "오렌지"]
        
        const checkedValues = Array.from(items)
            .filter((item) => item.checked)
            .map((item) => item.value);
        
        // .join(", ")
        // → 배열을 문자열로 합침
        // 예: ["사과", "오렌지"] → "사과, 오렌지"
        
        p.textContent = "선택된 항목: " + checkedValues.join(", ");
    }

    // ===== 3. 전체 선택 체크박스 이벤트 =====
    
    // 전체 선택 체크박스의 상태가 바뀔 때 (change 이벤트)
    checkAll.addEventListener("change", (e) => {
        
        // items의 각 체크박스를 순회
        items.forEach((item) => {
            
            // 각 개별 체크박스의 checked 상태를
            // 전체 선택의 checked 상태와 동일하게 만듦
            // 전체 선택이 true면 → 모두 true
            // 전체 선택이 false면 → 모두 false
            item.checked = checkAll.checked;
        });
        
        // 화면의 "선택된 항목" 텍스트 업데이트
        updateSelected();
    });

    // ===== 4. 개별 체크박스 이벤트 =====
    
    // items의 각 체크박스에 이벤트 등록
    items.forEach((item) => {
        
        // 각 개별 체크박스의 상태가 바뀔 때
        item.addEventListener("change", (e) => {
            
            // Array.from(items): NodeList → 배열 변환
            
            // .every((i) => i.checked)
            // → 배열의 "모든" 요소가 조건을 만족하면 true
            // → 하나라도 false면 전체가 false
            // 예: [true, true, true, true] → true
            // 예: [true, false, true, true] → false
            
            const allChecked = Array.from(items).every((i) => i.checked);
            
            // 모두 체크됐으면 전체 선택도 체크
            // 하나라도 해제됐으면 전체 선택도 해제
            checkAll.checked = allChecked;
            
            // 화면 업데이트
            updateSelected();
        });
    });
</script>
</html>
```

---

## 배열 메서드 시각화
```
items = [사과□, 바나나□, 오렌지□, 포도□]  (4개의 체크박스)

사용자가 사과, 오렌지를 체크함:
items = [사과✓, 바나나□, 오렌지✓, 포도□]

                    ↓ Array.from()
                    
[사과✓, 바나나□, 오렌지✓, 포도□]  (진짜 배열)

                    ↓ .filter(item => item.checked)
                    
[사과✓, 오렌지✓]  (체크된 것만)

                    ↓ .map(item => item.value)
                    
["사과", "오렌지"]  (value만 추출)

                    ↓ .join(", ")
                    
"사과, 오렌지"  (문자열로 합침)